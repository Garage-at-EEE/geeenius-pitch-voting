{"ast":null,"code":"import _toConsumableArray from\"/Users/ricky/Documents/GitHub/REACT-EOS-PRODUCTS/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/ricky/Documents/GitHub/REACT-EOS-PRODUCTS/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/ricky/Documents/GitHub/REACT-EOS-PRODUCTS/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Box,Button,Stack,Fab,Checkbox,Avatar}from\"@mui/material\";import React,{useEffect,useRef,useState}from\"react\";import{MapContainer,TileLayer,GeoJSON,useMap,Marker,Popup,LayersControl,Rectangle}from\"react-leaflet\";import{styled,useTheme}from\"@mui/material/styles\";import Drawer from\"@mui/material/Drawer\";import CssBaseline from\"@mui/material/CssBaseline\";import MuiAppBar from\"@mui/material/AppBar\";import Toolbar from\"@mui/material/Toolbar\";import List from\"@mui/material/List\";import Typography from\"@mui/material/Typography\";import Divider from\"@mui/material/Divider\";import IconButton from\"@mui/material/IconButton\";import MenuIcon from\"@mui/icons-material/Menu\";import ChevronLeftIcon from\"@mui/icons-material/ChevronLeft\";import ChevronRightIcon from\"@mui/icons-material/ChevronRight\";import ListItem from\"@mui/material/ListItem\";import ListItemButton from\"@mui/material/ListItemButton\";import ListItemAvatar from\"@mui/material/ListItemAvatar\";import ListItemIcon from\"@mui/material/ListItemIcon\";import ListItemText from\"@mui/material/ListItemText\";import InboxIcon from\"@mui/icons-material/MoveToInbox\";import MailIcon from\"@mui/icons-material/Mail\";import ArrowForwardIcon from\"@mui/icons-material/ArrowForward\";import{HEADER_HEIGHT}from\"utils/constants\";import{getRoute}from\"utils/routes\";import{json,useLocation,useNavigate}from\"react-router-dom\";import Noise from\"assets/noise.svg\";import CVDSwitch from\"components/Reusables/CVDSwitch\";import CustomToolbar from\"components/AppHeader/Toolbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FloatingSidePeekPopup=function FloatingSidePeekPopup(_ref){var children=_ref.children,isOpen=_ref.isOpen,onClose=_ref.onClose;return/*#__PURE__*/_jsx(Box,{sx:{position:\"fixed\",top:\"50%\",right:0,zIndex:9999,width:\"35vw\",// transform: \"translateY(-50%)\",\ntransform:isOpen?\"translate(0, -50%)\":\"translate(100%, -50%)\",transition:\"transform 0.3s ease-in-out\",height:\"60vh\",background:\"rgba(235, 253, 255, 0.55)\",borderRadius:\"16px\",boxShadow:\" 0 4px 30px rgba(0, 0, 0, 0.1)\",backdropFilter:\"blur(16px)\",border:\"1px solid rgba(109, 240, 255, 0.29)\",overflowY:\"auto\",padding:\"1rem\"},children:children});};var FloatingSideButton=function FloatingSideButton(_ref2){var children=_ref2.children,isOpen=_ref2.isOpen,onClick=_ref2.onClick;return/*#__PURE__*/_jsx(Box,{sx:{position:\"fixed\",top:\"50%\",right:-10,zIndex:9999,// width: \"\",\n// transform: \"translateY(-50%)\",\ntransform:isOpen?\"translate(100%, -50%)\":\"translate(0, -50%)\",transition:\"transform 0.3s ease-in-out\",// height: \"60vh\",\nbackground:\"rgba(235, 253, 255, 0.55)\",borderRadius:\"16px\",boxShadow:\" 0 4px 30px rgba(0, 0, 0, 0.1)\",backdropFilter:\"blur(16px)\",border:\"1px solid rgba(109, 240, 255, 0.29)\",padding:\"1rem\"},children:/*#__PURE__*/_jsx(IconButton,{onClick:onClick,children:/*#__PURE__*/_jsx(ChevronLeftIcon,{sx:{color:\"black\"}})})});};var drawerWidth=400;var Main=styled(\"main\",{shouldForwardProp:function shouldForwardProp(prop){return prop!==\"open\";}})(function(_ref3){var theme=_ref3.theme,open=_ref3.open;return _objectSpread({flexGrow:1,padding:theme.spacing(3),transition:theme.transitions.create(\"margin\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),marginLeft:\"-\".concat(drawerWidth,\"px\")},open&&{transition:theme.transitions.create(\"margin\",{easing:theme.transitions.easing.easeOut,duration:theme.transitions.duration.enteringScreen}),marginLeft:0});});var AppBar=styled(MuiAppBar,{shouldForwardProp:function shouldForwardProp(prop){return prop!==\"open\";}})(function(_ref4){var theme=_ref4.theme,open=_ref4.open;return _objectSpread({backgroundColor:\"#424242AA\",height:HEADER_HEIGHT,transition:theme.transitions.create([\"margin\",\"width\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},open&&{width:\"calc(100% - \".concat(drawerWidth,\"px)\"),marginLeft:\"\".concat(drawerWidth,\"px\"),transition:theme.transitions.create([\"margin\",\"width\"],{easing:theme.transitions.easing.easeOut,duration:theme.transitions.duration.enteringScreen})});});var DrawerHeader=styled(\"div\")(function(_ref5){var theme=_ref5.theme;return _objectSpread(_objectSpread({display:\"flex\",alignItems:\"center\",padding:theme.spacing(0,1)},theme.mixins.toolbar),{},{justifyContent:\"flex-end\"});});var getCenterPoint=function getCenterPoint(event_bbox){return[(event_bbox[0][0]+event_bbox[1][0])/2.0,(event_bbox[0][1]+event_bbox[1][1])/2.0];};function LeafletPage(props){var theme=useTheme();var _useLocation=useLocation(),state=_useLocation.state;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),checked=_useState2[0],setChecked=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),jsonData=_useState4[0],setJsonData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),products=_useState6[0],setProducts=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),sidebarDescription=_useState8[0],setSidebarDescription=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),open=_useState10[0],setOpen=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),openLayers=_useState12[0],setOpenLayers=_useState12[1];var geoJsonRef=useRef();var GeoJSONMap=function GeoJSONMap(url){fetch(url).then(function(res){return res.json();}).then(function(data){var newObj=jsonData;newObj[url]=data;setJsonData(newObj);});};useEffect(function(){var productList=state===null||state===void 0?void 0:state.product_list;if(productList){var finalList=[];productList.filter(function(filter){return filter.prod_cvd===false;}).forEach(function(item){GeoJSONMap(item.prod_rfp_file);var cvd=productList.filter(function(filter){return filter.prod_name===\"\".concat(item.prod_name,\"_cvd\");});if(cvd.length){finalList.push(_objectSpread(_objectSpread({},item),{},{cvd_prod_tiles:cvd[0].prod_tiles,cvd_selected:false}));}else{finalList.push(_objectSpread(_objectSpread({},item),{},{cvd_selected:false}));}});setSidebarDescription(decodeURIComponent(escape(state===null||state===void 0?void 0:state.product_list[0].prod_desc)));setProducts(finalList);setOpenLayers(true);}},[state]);var handleDrawerOpen=function handleDrawerOpen(){setOpen(true);};var handleDrawerClose=function handleDrawerClose(){setOpen(false);};var handleToggle=function handleToggle(value){return function(){var currentIndex=checked.indexOf(value);var newChecked=_toConsumableArray(checked);if(currentIndex===-1){newChecked.push(value);}else{newChecked.splice(currentIndex,1);}setChecked(newChecked);};};var handleSwitch=function handleSwitch(value,newVal){var currentIndex=checked.indexOf(value);var newChecked=_toConsumableArray(checked);console.log(checked);if(currentIndex===-1){var productIndex=products.indexOf(value);products[productIndex].cvd_selected=newVal.target.checked;// setProducts()\n}else{newChecked[currentIndex].cvd_selected=newVal.target.checked;}console.log(newChecked);setChecked(newChecked);};var handleSideBarDisplay=function handleSideBarDisplay(description){setSidebarDescription(description);handleDrawerOpen();};var onEachClick=function onEachClick(feature,layer,description){// const name = feature.properties.name;\n// const density = feature.properties.density;\nlayer.on({click:function click(e){handleFeatureClick(e,description);}});};var handleFeatureClick=function handleFeatureClick(e,description){setOpenLayers(false);if(!geoJsonRef.current)return;geoJsonRef.current.resetStyle();var layer=e.target;handleSideBarDisplay(description);layer.setStyle({color:\"#cc7076AA\"});};return/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\"},children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(FloatingSideButton,{isOpen:openLayers,onClick:function onClick(){setOpenLayers(!openLayers);}}),/*#__PURE__*/_jsxs(FloatingSidePeekPopup,{isOpen:openLayers,children:[/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){setOpenLayers(!openLayers);},children:/*#__PURE__*/_jsx(ChevronRightIcon,{sx:{color:\"black\"}})}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"black\",children:\"Products\"})]}),/*#__PURE__*/_jsx(Stack,{sx:{padding:\"0.5rem\",gap:\"1rem\"},children:/*#__PURE__*/_jsx(List,{dense:true,sx:{width:\"100%\"},children:products.filter(function(item){return item.isLatest;}).map(function(value,index){var labelId=\"checkbox-list-\".concat(value,\"-\").concat(index);console.log(value===null||value===void 0?void 0:value.cvd_prod_tiles);return/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:handleToggle(value),children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(Checkbox,{sx:{color:\"black\"},edge:\"end\",onChange:handleToggle(value),checked:checked.indexOf(value)!==-1,inputProps:{\"aria-labelledby\":labelId}})}),/*#__PURE__*/_jsx(ListItemText,{sx:{color:\"black\"},id:labelId,primary:decodeURIComponent(escape(value.prod_title))}),value!==null&&value!==void 0&&value.cvd_prod_tiles?/*#__PURE__*/_jsx(CVDSwitch,{onChange:function onChange(newVal){handleSwitch(value,newVal);},checked:value.cvd_selected,edge:\"end\"}):/*#__PURE__*/_jsx(_Fragment,{})]})},labelId);})},\"list-component\")})]}),/*#__PURE__*/_jsx(AppBar,{position:\"fixed\",open:open,children:/*#__PURE__*/_jsx(CustomToolbar,{isMapPage:true,handleDrawerOpen:handleDrawerOpen,open:open})}),/*#__PURE__*/_jsxs(Drawer,{sx:{width:drawerWidth,flexShrink:0,\"& .MuiDrawer-paper\":{width:drawerWidth,boxSizing:\"border-box\"}},variant:\"persistent\",anchor:\"left\",open:open,children:[/*#__PURE__*/_jsxs(DrawerHeader,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",sx:{overflowWrap:\"anywhere\"},children:state.event.event_display_name}),/*#__PURE__*/_jsx(IconButton,{onClick:handleDrawerClose,children:theme.direction===\"ltr\"?/*#__PURE__*/_jsx(ChevronLeftIcon,{}):/*#__PURE__*/_jsx(ChevronRightIcon,{})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Stack,{sx:{padding:\"1rem\",gap:\"1rem\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Description\"}),/*#__PURE__*/_jsx(Typography,{children:sidebarDescription})]}),/*#__PURE__*/_jsx(Divider,{})]}),/*#__PURE__*/_jsxs(Main,{open:open,children:[/*#__PURE__*/_jsx(DrawerHeader,{}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Box,{sx:{position:\"absolute\",bottom:\"5%\",left:open?\"calc( 50% + \".concat(drawerWidth,\"px / 2)\"):\"50%\",zIndex:1000,backgroundColor:\"#e80c1a66\",transform:\"translate(-50%, -50%)\",borderRadius:\"5px\",padding:\"1rem\",backdropFilter:\"blur(8px)\"},children:/*#__PURE__*/_jsx(Typography,{children:\"Disclaimer this product should not be used for commercial purposes\"})}),/*#__PURE__*/_jsxs(MapContainer,{style:{height:\"calc(95vh - \".concat(HEADER_HEIGHT,\")\"),borderRadius:\"1rem\"}// center={getCenterPoint(state.event.event_bbox)}\n,bounds:state.event.event_bbox,zoom:10,scrollWheelZoom:true,children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),checked.map(function(item){console.log(item===null||item===void 0?void 0:item.prod_max_zoom);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TileLayer,{tms:true,url:item!==null&&item!==void 0&&item.cvd_selected?\"\".concat(item===null||item===void 0?void 0:item.cvd_prod_tiles,\"{z}/{x}/{y}.png\"):\"\".concat(item===null||item===void 0?void 0:item.prod_tiles,\"{z}/{x}/{y}.png\"),maxNativeZoom:parseInt(item===null||item===void 0?void 0:item.prod_max_zoom),minNativeZoom:parseInt(item===null||item===void 0?void 0:item.prod_min_zoom)}),/*#__PURE__*/_jsx(GeoJSON,{style:{color:\"#be93e677\",weight:2},ref:geoJsonRef,onEachFeature:function onEachFeature(feature,layer){onEachClick(feature,layer,decodeURIComponent(escape(item===null||item===void 0?void 0:item.prod_desc)));},data:jsonData[item===null||item===void 0?void 0:item.prod_rfp_file]},item===null||item===void 0?void 0:item.prod_rfp_file)]});}),/*#__PURE__*/_jsx(Rectangle,{bounds:state.event.event_bbox,pathOptions:{color:\"white\",fill:false,weight:5}})]})]})]})]});}export default LeafletPage;","map":{"version":3,"names":["Box","Button","Stack","Fab","Checkbox","Avatar","React","useEffect","useRef","useState","MapContainer","TileLayer","GeoJSON","useMap","Marker","Popup","LayersControl","Rectangle","styled","useTheme","Drawer","CssBaseline","MuiAppBar","Toolbar","List","Typography","Divider","IconButton","MenuIcon","ChevronLeftIcon","ChevronRightIcon","ListItem","ListItemButton","ListItemAvatar","ListItemIcon","ListItemText","InboxIcon","MailIcon","ArrowForwardIcon","HEADER_HEIGHT","getRoute","json","useLocation","useNavigate","Noise","CVDSwitch","CustomToolbar","FloatingSidePeekPopup","children","isOpen","onClose","position","top","right","zIndex","width","transform","transition","height","background","borderRadius","boxShadow","backdropFilter","border","overflowY","padding","FloatingSideButton","onClick","color","drawerWidth","Main","shouldForwardProp","prop","theme","open","flexGrow","spacing","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","easeOut","enteringScreen","AppBar","backgroundColor","DrawerHeader","display","alignItems","mixins","toolbar","justifyContent","getCenterPoint","event_bbox","LeafletPage","props","state","checked","setChecked","jsonData","setJsonData","products","setProducts","sidebarDescription","setSidebarDescription","setOpen","openLayers","setOpenLayers","geoJsonRef","GeoJSONMap","url","fetch","then","res","data","newObj","productList","product_list","finalList","filter","prod_cvd","forEach","item","prod_rfp_file","cvd","prod_name","length","push","cvd_prod_tiles","prod_tiles","cvd_selected","decodeURIComponent","escape","prod_desc","handleDrawerOpen","handleDrawerClose","handleToggle","value","currentIndex","indexOf","newChecked","splice","handleSwitch","newVal","console","log","productIndex","target","handleSideBarDisplay","description","onEachClick","feature","layer","on","click","e","handleFeatureClick","current","resetStyle","setStyle","gap","isLatest","map","index","labelId","prod_title","flexShrink","boxSizing","overflowWrap","event","event_display_name","direction","bottom","left","prod_max_zoom","parseInt","prod_min_zoom","weight","fill"],"sources":["/Users/ricky/Documents/GitHub/REACT-EOS-PRODUCTS/src/pages/Leaflet/Leaflet.jsx"],"sourcesContent":["import { Box, Button, Stack, Fab, Checkbox, Avatar } from \"@mui/material\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport {\n  MapContainer,\n  TileLayer,\n  GeoJSON,\n  useMap,\n  Marker,\n  Popup,\n  LayersControl,\n  Rectangle,\n} from \"react-leaflet\";\n\nimport { styled, useTheme } from \"@mui/material/styles\";\nimport Drawer from \"@mui/material/Drawer\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport MuiAppBar from \"@mui/material/AppBar\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport List from \"@mui/material/List\";\nimport Typography from \"@mui/material/Typography\";\nimport Divider from \"@mui/material/Divider\";\nimport IconButton from \"@mui/material/IconButton\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport InboxIcon from \"@mui/icons-material/MoveToInbox\";\nimport MailIcon from \"@mui/icons-material/Mail\";\nimport ArrowForwardIcon from \"@mui/icons-material/ArrowForward\";\nimport { HEADER_HEIGHT } from \"utils/constants\";\nimport { getRoute } from \"utils/routes\";\n\nimport { json, useLocation, useNavigate } from \"react-router-dom\";\nimport Noise from \"assets/noise.svg\";\nimport CVDSwitch from \"components/Reusables/CVDSwitch\";\nimport CustomToolbar from \"components/AppHeader/Toolbar\";\n\nconst FloatingSidePeekPopup = ({ children, isOpen, onClose }) => {\n  return (\n    <Box\n      sx={{\n        position: \"fixed\",\n        top: \"50%\",\n        right: 0,\n        zIndex: 9999,\n        width: \"35vw\",\n        // transform: \"translateY(-50%)\",\n        transform: isOpen ? \"translate(0, -50%)\" : \"translate(100%, -50%)\",\n        transition: \"transform 0.3s ease-in-out\",\n        height: \"60vh\",\n        background: \"rgba(235, 253, 255, 0.55)\",\n        borderRadius: \"16px\",\n        boxShadow: \" 0 4px 30px rgba(0, 0, 0, 0.1)\",\n        backdropFilter: \"blur(16px)\",\n        border: \"1px solid rgba(109, 240, 255, 0.29)\",\n        overflowY: \"auto\",\n        padding: \"1rem\",\n      }}\n    >\n      {/* <Fab\n        color=\"primary\"\n        sx={{\n          position: \"fixed\",\n          top: \"50%\",\n          left: 0,\n          translate: \"translateX(-50%)\",\n        }}\n      >\n        <ArrowForwardIcon />\n      </Fab> */}\n      {children}\n    </Box>\n  );\n};\n\nconst FloatingSideButton = ({ children, isOpen, onClick }) => {\n  return (\n    <Box\n      sx={{\n        position: \"fixed\",\n        top: \"50%\",\n        right: -10,\n        zIndex: 9999,\n        // width: \"\",\n        // transform: \"translateY(-50%)\",\n        transform: isOpen ? \"translate(100%, -50%)\" : \"translate(0, -50%)\",\n        transition: \"transform 0.3s ease-in-out\",\n        // height: \"60vh\",\n        background: \"rgba(235, 253, 255, 0.55)\",\n        borderRadius: \"16px\",\n        boxShadow: \" 0 4px 30px rgba(0, 0, 0, 0.1)\",\n        backdropFilter: \"blur(16px)\",\n        border: \"1px solid rgba(109, 240, 255, 0.29)\",\n\n        padding: \"1rem\",\n      }}\n    >\n      <IconButton onClick={onClick}>\n        <ChevronLeftIcon sx={{ color: \"black\" }} />\n      </IconButton>\n    </Box>\n  );\n};\n\nconst drawerWidth = 400;\n\nconst Main = styled(\"main\", { shouldForwardProp: (prop) => prop !== \"open\" })(\n  ({ theme, open }) => ({\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: `-${drawerWidth}px`,\n    ...(open && {\n      transition: theme.transitions.create(\"margin\", {\n        easing: theme.transitions.easing.easeOut,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n      marginLeft: 0,\n    }),\n  })\n);\n\nconst AppBar = styled(MuiAppBar, {\n  shouldForwardProp: (prop) => prop !== \"open\",\n})(({ theme, open }) => ({\n  backgroundColor: `#424242AA`,\n  height: HEADER_HEIGHT,\n  transition: theme.transitions.create([\"margin\", \"width\"], {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  ...(open && {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: `${drawerWidth}px`,\n    transition: theme.transitions.create([\"margin\", \"width\"], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  }),\n}));\n\nconst DrawerHeader = styled(\"div\")(({ theme }) => ({\n  display: \"flex\",\n  alignItems: \"center\",\n  padding: theme.spacing(0, 1),\n\n  // necessary for content to be below app bar\n  ...theme.mixins.toolbar,\n  justifyContent: \"flex-end\",\n}));\n\nconst getCenterPoint = (event_bbox) => {\n  return [\n    (event_bbox[0][0] + event_bbox[1][0]) / 2.0,\n    (event_bbox[0][1] + event_bbox[1][1]) / 2.0,\n  ];\n};\n\nfunction LeafletPage(props) {\n  const theme = useTheme();\n  const { state } = useLocation();\n  const [checked, setChecked] = useState([]);\n  const [jsonData, setJsonData] = useState({});\n  const [products, setProducts] = useState([]);\n  const [sidebarDescription, setSidebarDescription] = useState(\"\");\n  const [open, setOpen] = useState(false);\n  const [openLayers, setOpenLayers] = useState(false);\n\n  const geoJsonRef = useRef();\n\n  const GeoJSONMap = (url) => {\n    fetch(url)\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => {\n        var newObj = jsonData;\n        newObj[url] = data;\n        setJsonData(newObj);\n      });\n  };\n\n  useEffect(() => {\n    var productList = state?.product_list;\n    if (productList) {\n      var finalList = [];\n      productList\n        .filter((filter) => {\n          return filter.prod_cvd === false;\n        })\n        .forEach((item) => {\n          GeoJSONMap(item.prod_rfp_file);\n          var cvd = productList.filter((filter) => {\n            return filter.prod_name === `${item.prod_name}_cvd`;\n          });\n          if (cvd.length) {\n            finalList.push({\n              ...item,\n              cvd_prod_tiles: cvd[0].prod_tiles,\n              cvd_selected: false,\n            });\n          } else {\n            finalList.push({ ...item, cvd_selected: false });\n          }\n        });\n\n      setSidebarDescription(\n        decodeURIComponent(escape(state?.product_list[0].prod_desc))\n      );\n      setProducts(finalList);\n      setOpenLayers(true);\n    }\n  }, [state]);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const handleToggle = (value) => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n\n  const handleSwitch = (value, newVal) => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n    console.log(checked);\n\n    if (currentIndex === -1) {\n      var productIndex = products.indexOf(value);\n      products[productIndex].cvd_selected = newVal.target.checked;\n      // setProducts()\n    } else {\n      newChecked[currentIndex].cvd_selected = newVal.target.checked;\n    }\n\n    console.log(newChecked);\n\n    setChecked(newChecked);\n  };\n\n  const handleSideBarDisplay = (description) => {\n    setSidebarDescription(description);\n    handleDrawerOpen();\n  };\n\n  const onEachClick = (feature, layer, description) => {\n    // const name = feature.properties.name;\n    // const density = feature.properties.density;\n\n    layer.on({\n      click: (e) => {\n        handleFeatureClick(e, description);\n      },\n    });\n  };\n\n  const handleFeatureClick = (e, description) => {\n    setOpenLayers(false);\n    if (!geoJsonRef.current) return;\n    geoJsonRef.current.resetStyle();\n\n    const layer = e.target;\n    handleSideBarDisplay(description);\n\n    layer.setStyle({ color: \"#cc7076AA\" });\n  };\n\n  return (\n    <Box sx={{ display: \"flex\" }}>\n      <CssBaseline />\n      <FloatingSideButton\n        isOpen={openLayers}\n        onClick={() => {\n          setOpenLayers(!openLayers);\n        }}\n      />\n      <FloatingSidePeekPopup isOpen={openLayers}>\n        <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\n          <IconButton\n            onClick={() => {\n              setOpenLayers(!openLayers);\n            }}\n          >\n            <ChevronRightIcon sx={{ color: \"black\" }} />\n          </IconButton>\n          <Typography variant=\"h5\" color={\"black\"}>\n            Products\n          </Typography>\n        </Box>\n        <Stack sx={{ padding: \"0.5rem\", gap: \"1rem\" }}>\n          <List key={\"list-component\"} dense sx={{ width: \"100%\" }}>\n            {products\n              .filter((item) => {\n                return item.isLatest;\n              })\n              .map((value, index) => {\n                const labelId = `checkbox-list-${value}-${index}`;\n                console.log(value?.cvd_prod_tiles);\n                return (\n                  <ListItem key={labelId} disablePadding>\n                    <ListItemButton onClick={handleToggle(value)}>\n                      <ListItemIcon>\n                        <Checkbox\n                          sx={{ color: \"black\" }}\n                          edge=\"end\"\n                          onChange={handleToggle(value)}\n                          checked={checked.indexOf(value) !== -1}\n                          inputProps={{ \"aria-labelledby\": labelId }}\n                        />\n                      </ListItemIcon>\n\n                      {/* <ListItemAvatar>\n                        <Avatar\n                          alt={`Avatar n°${value + 1}`}\n                          src={value.prod_main_png}\n                        />\n                      </ListItemAvatar> */}\n                      <ListItemText\n                        sx={{ color: \"black\" }}\n                        id={labelId}\n                        primary={decodeURIComponent(escape(value.prod_title))}\n                      />\n                      {value?.cvd_prod_tiles ? (\n                        <CVDSwitch\n                          onChange={(newVal) => {\n                            handleSwitch(value, newVal);\n                          }}\n                          checked={value.cvd_selected}\n                          edge=\"end\"\n                        />\n                      ) : (\n                        <></>\n                      )}\n                    </ListItemButton>\n                  </ListItem>\n                );\n              })}\n          </List>\n          {/* {state?.product_list\n            .filter((item) => {\n              return item.isLatest;\n            })\n            .map((item) => {\n              return (\n                <ProductCard\n                  Title={item.prod_title}\n                  Image={item.prod_main_png}\n                  Date={item.prod_date}\n                  Description={item.prod_desc}\n                ></ProductCard>\n              );\n            })} */}\n        </Stack>\n      </FloatingSidePeekPopup>\n      <AppBar position=\"fixed\" open={open}>\n        <CustomToolbar\n          isMapPage\n          handleDrawerOpen={handleDrawerOpen}\n          open={open}\n        />\n      </AppBar>\n      <Drawer\n        sx={{\n          width: drawerWidth,\n          flexShrink: 0,\n          \"& .MuiDrawer-paper\": {\n            width: drawerWidth,\n            boxSizing: \"border-box\",\n          },\n        }}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n      >\n        <DrawerHeader>\n          <Typography variant=\"h5\" sx={{ overflowWrap: \"anywhere\" }}>\n            {state.event.event_display_name}\n          </Typography>\n          <IconButton onClick={handleDrawerClose}>\n            {theme.direction === \"ltr\" ? (\n              <ChevronLeftIcon />\n            ) : (\n              <ChevronRightIcon />\n            )}\n          </IconButton>\n        </DrawerHeader>\n        <Divider />\n        <Stack sx={{ padding: \"1rem\", gap: \"1rem\" }}>\n          <Typography variant=\"h5\">Description</Typography>\n          <Typography>{sidebarDescription}</Typography>\n        </Stack>\n        <Divider />\n      </Drawer>\n      <Main open={open}>\n        <DrawerHeader />\n        <Box>\n          <Box\n            sx={{\n              position: \"absolute\",\n              bottom: \"5%\",\n              left: open ? `calc( 50% + ${drawerWidth}px / 2)` : \"50%\",\n              zIndex: 1000,\n              backgroundColor: \"#e80c1a66\",\n              transform: \"translate(-50%, -50%)\",\n              borderRadius: \"5px\",\n              padding: \"1rem\",\n              backdropFilter: \"blur(8px)\",\n            }}\n          >\n            <Typography>\n              Disclaimer this product should not be used for commercial purposes\n            </Typography>\n          </Box>\n          <MapContainer\n            style={{\n              height: `calc(95vh - ${HEADER_HEIGHT})`,\n              borderRadius: \"1rem\",\n            }}\n            // center={getCenterPoint(state.event.event_bbox)}\n\n            bounds={state.event.event_bbox}\n            zoom={10}\n            scrollWheelZoom={true}\n          >\n            <TileLayer\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n\n            {/* <TileLayer\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}\"\n            /> */}\n\n            {checked.map((item) => {\n              console.log(item?.prod_max_zoom);\n              return (\n                <>\n                  <TileLayer\n                    tms={true}\n                    url={\n                      item?.cvd_selected\n                        ? `${item?.cvd_prod_tiles}{z}/{x}/{y}.png`\n                        : `${item?.prod_tiles}{z}/{x}/{y}.png`\n                    }\n                    maxNativeZoom={parseInt(item?.prod_max_zoom)}\n                    minNativeZoom={parseInt(item?.prod_min_zoom)}\n                  />\n                  <GeoJSON\n                    style={{ color: \"#be93e677\", weight: 2 }}\n                    ref={geoJsonRef}\n                    onEachFeature={(feature, layer) => {\n                      onEachClick(\n                        feature,\n                        layer,\n                        decodeURIComponent(escape(item?.prod_desc))\n                      );\n                    }}\n                    key={item?.prod_rfp_file}\n                    data={jsonData[item?.prod_rfp_file]}\n                  >\n                    {/* <Popup>\n                      <Box sx={{ maxHeight: \"20rem\", overflowY: \"scroll\" }}>\n                        {decodeURIComponent(escape(item?.prod_desc))}\n                      </Box>\n                    </Popup> */}\n                  </GeoJSON>\n                </>\n              );\n            })}\n\n            {/* <LayersControl position=\"topright\">\n              <LayersControl.Overlay name=\"Afghanistan Earthquake\">\n                <TileLayer\n                  name=\"Afghanistan Earthquake\"\n                  tms={true}\n                  url={`${state?.product_list[0].prod_tiles}{z}/{x}/{y}.png`}\n                  maxNativeZoom={14}\n                  minNativeZoom={6}\n                />\n              </LayersControl.Overlay>\n            </LayersControl> */}\n\n            <Rectangle\n              bounds={state.event.event_bbox}\n              pathOptions={{ color: \"white\", fill: false, weight: 5 }}\n            />\n          </MapContainer>\n        </Box>\n      </Main>\n    </Box>\n  );\n}\n\nexport default LeafletPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}